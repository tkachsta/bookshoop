<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<header class="Header" th:fragment="headFragment">
    <div class="Header-rowMain">
        <div class="wrap">
            <div class="row">
                <div class="row-block Header-logo"><a class="logo" href="/"><img class="logo-image"
                                                                                 src="/assets/img/logo.png"
                                                                                 alt="logo.png"/><span
                        class="logo-text">BOOKSHOP</span></a>
                </div>
                <div class="Header-searchWrap row-block">
                    <div class="Header-searchLink"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><g><g>
                        <path fill="#b8b8b8" d="M17.812 17.852c.25.268.25.69 0 .948a.622.622 0 0 1-.457.2.64.64 0 0 1-.457-.2l-5.364-5.494a7.07 7.07 0 0 1-4.32 1.47C3.232 14.777 0 11.457 0 7.389 0 3.321 3.232 0 7.214 0c3.983 0 7.214 3.32 7.214 7.388 0 1.94-.74 3.7-1.926 5.015zM7.214 13.44c3.264 0 5.909-2.708 5.909-6.05 0-3.344-2.655-6.052-5.909-6.052-3.264 0-5.908 2.72-5.908 6.051 0 3.332 2.644 6.051 5.908 6.051z"/></g></g></svg></div>
                    <div class="Header-search">
                        <div class="search">
                            <form class="form form_search" action="#" method="post" data-searchlimit="20"
                                  th:object="${searchWordDto}">
                                <input class="search-input" id="query" name="query" type="text"
                                       th:placeholder="#{topbar.placeholder}" th:field="*{example}"/>
                                <button class="search-button" type="submit" name="search" id="search" th:text="#{topbar.search}"></button>
                            </form>
                        </div>
                    </div>
                    <span th:if="${searchError}" th:text="${searchError.getLocalizedMessage()}"
                          style="color: red"></span>
                </div>

                <div th:replace="${isAuthenticated} ?
                ~{fragments/header/auth_user_header :: authUserHeader} :
                ~{fragments/header/none_auth_user_header :: noneAuthUserHeader}"></div>
                <div class="row-block Header-trigger"><a class="menuTrigger" href="#navigate">
                    <div class="menuTrigger-content" th:text="#{topbar.navigation}">Показать навигацию</div><span></span><span></span><span></span></a>
                </div>
            </div>
        </div>
    </div>
    <div class="Header-menu">
        <div class="wrap">
            <nav class="menuModal" id="navigate">
                <ul class="menu menu_main">
                    <li th:class="${#httpServletRequest.getRequestURI().endsWith('/') ? 'menu-item menu-item_ACTIVE' : 'menu-item'}"><a
                            class="menu-link" th:href="@{/}" th:text="#{topbar.main}"></a>
                    </li>
                    <li th:class="${#httpServletRequest.getRequestURI().endsWith('/genres') ? 'menu-item menu-item_ACTIVE' : 'menu-item'}"><a
                            class="menu-link" th:href="@{/books/genres}" th:text="#{topbar.genres}"></a>
                    </li>
                    <li th:class="${#httpServletRequest.getRequestURI().endsWith('/books/recent') ? 'menu-item menu-item_ACTIVE' : 'menu-item'}"><a
                            class="menu-link" th:href="@{/books/recent}" th:text="#{topbar.news}"></a>
                    </li>
                    <li th:class="${#httpServletRequest.getRequestURI().endsWith('/books/popular') ? 'menu-item menu-item_ACTIVE' : 'menu-item'}"><a
                            class="menu-link" th:href="@{/books/popular}" th:text="#{topbar.popular}"></a>
                    </li>
                    <li th:class="${#httpServletRequest.getRequestURI().endsWith('/authors') ? 'menu-item menu-item_ACTIVE' : 'menu-item'}"><a
                            class="menu-link" th:href="@{/authors}" th:text="#{topbar.authors}"></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>

</body>
</html>